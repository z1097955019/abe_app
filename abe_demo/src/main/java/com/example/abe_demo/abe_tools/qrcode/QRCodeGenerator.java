package com.example.abe_demo.abe_tools.qrcode;

import android.graphics.Bitmap;
import android.widget.ImageView;

import com.google.zxing.BarcodeFormat;
import com.google.zxing.EncodeHintType;
import com.google.zxing.WriterException;
import com.google.zxing.client.j2se.MatrixToImageWriter;
import com.google.zxing.common.BitMatrix;
import com.google.zxing.qrcode.QRCodeWriter;
import com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;

import java.io.IOException;
import java.nio.file.FileSystems;
import java.nio.file.Path;
import java.util.HashMap;
import java.util.Hashtable;
import java.util.Map;

/**
 * @author: coffee
 * @date: 2021/10/6 00:26
 * @Description: Java���ɶ�ά��
 */
public class QRCodeGenerator {

    //���ɵĶ�ά���·��
    private static final String QR_CODE_IMAGE_PATH1 = "D:\\MyQRCode1.png";

    private static final String QR_CODE_TEXT4 = "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785" +
            "x=5300315648085264690369807561233211311763766170647343258568747285795727983183643680035139708007664104381636697427360388082534974258132282270750618086431098,y=4050070619021157250153523839579203483176253956844627689950659769662247340839607922954465468288876884028426218597579859845176385061685023510825853656916785";

    //��ά��ͼƬ�Ŀ��
    private static int WIDTH = 12000;
    //��ά��ͼƬ�ĸ߶�
    private static int HEIGHT = 12000;

    private static void goThree() throws IOException, WriterException {
        generateQRCodeImage(QR_CODE_IMAGE_PATH1, QR_CODE_TEXT4);
    }
    private static void generateQRCodeImage(String QR_path, String Text) throws WriterException, IOException {
        QRCodeWriter qrCodeWriter = new QRCodeWriter();

        Hashtable hints = new Hashtable();
        hints.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.L);//H����ݴ�ȼ�
        hints.put(EncodeHintType.CHARACTER_SET, "utf-8");

        BitMatrix bitMatrix = qrCodeWriter.encode(Text, BarcodeFormat.QR_CODE, WIDTH, HEIGHT,hints);

        Path path = FileSystems.getDefault().getPath(QR_path);

        MatrixToImageWriter.writeToPath(bitMatrix, "PNG", path);

    }



    public static void main(String[] args) throws Exception{
        goThree();
    }
}